ARM GAS  /tmp/ccAlrAXE.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"main.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MX_GPIO_Init,"ax",%progbits
  16              		.align	1
  17              		.syntax unified
  18              		.thumb
  19              		.thumb_func
  20              		.fpu softvfp
  22              	MX_GPIO_Init:
  23              	.LFB82:
  24              		.file 1 "user/main.c"
   1:user/main.c   **** #include "stm32f1xx_hal.h"
   2:user/main.c   **** #include <rtthread.h>
   3:user/main.c   **** 
   4:user/main.c   **** #define LED_GPIO_PORT   GPIOA
   5:user/main.c   **** #define LED_PIN         GPIO_PIN_2
   6:user/main.c   **** 
   7:user/main.c   **** void hardware_initialization(void);
   8:user/main.c   **** static void MX_GPIO_Init(void);
   9:user/main.c   **** 
  10:user/main.c   **** int main(void)
  11:user/main.c   **** {
  12:user/main.c   ****         while (1) {
  13:user/main.c   ****                 HAL_GPIO_WritePin(LED_GPIO_PORT, LED_PIN, GPIO_PIN_SET);
  14:user/main.c   ****                 rt_thread_mdelay(500);
  15:user/main.c   ****                 HAL_GPIO_WritePin(LED_GPIO_PORT, LED_PIN, GPIO_PIN_RESET);
  16:user/main.c   ****                 rt_thread_mdelay(500);
  17:user/main.c   ****         }
  18:user/main.c   **** }
  19:user/main.c   **** 
  20:user/main.c   **** 
  21:user/main.c   **** void hardware_initialization(void)
  22:user/main.c   **** {
  23:user/main.c   ****         //HAL_Init();
  24:user/main.c   ****         //SystemClock_Config();
  25:user/main.c   ****         MX_GPIO_Init();
  26:user/main.c   **** }
  27:user/main.c   **** 
  28:user/main.c   **** static void MX_GPIO_Init(void)
  29:user/main.c   **** {
  25              		.loc 1 29 0
  26              		.cfi_startproc
  27              		@ args = 0, pretend = 0, frame = 24
  28              		@ frame_needed = 0, uses_anonymous_args = 0
  29 0000 30B5     		push	{r4, r5, lr}
ARM GAS  /tmp/ccAlrAXE.s 			page 2


  30              	.LCFI0:
  31              		.cfi_def_cfa_offset 12
  32              		.cfi_offset 4, -12
  33              		.cfi_offset 5, -8
  34              		.cfi_offset 14, -4
  35 0002 87B0     		sub	sp, sp, #28
  36              	.LCFI1:
  37              		.cfi_def_cfa_offset 40
  30:user/main.c   ****         GPIO_InitTypeDef GPIO_InitStruct = {0};
  38              		.loc 1 30 0
  39 0004 0024     		movs	r4, #0
  40 0006 0294     		str	r4, [sp, #8]
  41 0008 0394     		str	r4, [sp, #12]
  42 000a 0494     		str	r4, [sp, #16]
  43 000c 0594     		str	r4, [sp, #20]
  44              	.LBB2:
  31:user/main.c   **** 
  32:user/main.c   ****         __HAL_RCC_GPIOA_CLK_ENABLE();
  45              		.loc 1 32 0
  46 000e 0E4B     		ldr	r3, .L3
  47 0010 9A69     		ldr	r2, [r3, #24]
  48 0012 42F00402 		orr	r2, r2, #4
  49 0016 9A61     		str	r2, [r3, #24]
  50 0018 9B69     		ldr	r3, [r3, #24]
  51 001a 03F00403 		and	r3, r3, #4
  52 001e 0193     		str	r3, [sp, #4]
  53 0020 019B     		ldr	r3, [sp, #4]
  54              	.LBE2:
  33:user/main.c   ****         HAL_GPIO_WritePin(LED_GPIO_PORT, LED_PIN, GPIO_PIN_RESET);
  55              		.loc 1 33 0
  56 0022 0A4D     		ldr	r5, .L3+4
  57 0024 2246     		mov	r2, r4
  58 0026 0421     		movs	r1, #4
  59 0028 2846     		mov	r0, r5
  60 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
  61              	.LVL0:
  34:user/main.c   **** 
  35:user/main.c   ****         GPIO_InitStruct.Pin   = LED_PIN;
  62              		.loc 1 35 0
  63 002e 0423     		movs	r3, #4
  64 0030 0293     		str	r3, [sp, #8]
  36:user/main.c   ****         GPIO_InitStruct.Mode  = GPIO_MODE_OUTPUT_PP;
  65              		.loc 1 36 0
  66 0032 0123     		movs	r3, #1
  67 0034 0393     		str	r3, [sp, #12]
  37:user/main.c   ****         GPIO_InitStruct.Pull  = GPIO_NOPULL;
  68              		.loc 1 37 0
  69 0036 0494     		str	r4, [sp, #16]
  38:user/main.c   ****         GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_LOW;
  70              		.loc 1 38 0
  71 0038 0223     		movs	r3, #2
  72 003a 0593     		str	r3, [sp, #20]
  39:user/main.c   ****         HAL_GPIO_Init(LED_GPIO_PORT, &GPIO_InitStruct);
  73              		.loc 1 39 0
  74 003c 02A9     		add	r1, sp, #8
  75 003e 2846     		mov	r0, r5
  76 0040 FFF7FEFF 		bl	HAL_GPIO_Init
ARM GAS  /tmp/ccAlrAXE.s 			page 3


  77              	.LVL1:
  40:user/main.c   **** }
  78              		.loc 1 40 0
  79 0044 07B0     		add	sp, sp, #28
  80              	.LCFI2:
  81              		.cfi_def_cfa_offset 12
  82              		@ sp needed
  83 0046 30BD     		pop	{r4, r5, pc}
  84              	.L4:
  85              		.align	2
  86              	.L3:
  87 0048 00100240 		.word	1073876992
  88 004c 00080140 		.word	1073809408
  89              		.cfi_endproc
  90              	.LFE82:
  92              		.section	.text.main,"ax",%progbits
  93              		.align	1
  94              		.global	main
  95              		.syntax unified
  96              		.thumb
  97              		.thumb_func
  98              		.fpu softvfp
 100              	main:
 101              	.LFB80:
  11:user/main.c   ****         while (1) {
 102              		.loc 1 11 0
 103              		.cfi_startproc
 104              		@ Volatile: function does not return.
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
 107 0000 08B5     		push	{r3, lr}
 108              	.LCFI3:
 109              		.cfi_def_cfa_offset 8
 110              		.cfi_offset 3, -8
 111              		.cfi_offset 14, -4
 112              	.L6:
  13:user/main.c   ****                 rt_thread_mdelay(500);
 113              		.loc 1 13 0 discriminator 1
 114 0002 0A4C     		ldr	r4, .L8
 115 0004 0122     		movs	r2, #1
 116 0006 0421     		movs	r1, #4
 117 0008 2046     		mov	r0, r4
 118 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 119              	.LVL2:
  14:user/main.c   ****                 HAL_GPIO_WritePin(LED_GPIO_PORT, LED_PIN, GPIO_PIN_RESET);
 120              		.loc 1 14 0 discriminator 1
 121 000e 4FF4FA70 		mov	r0, #500
 122 0012 FFF7FEFF 		bl	rt_thread_mdelay
 123              	.LVL3:
  15:user/main.c   ****                 rt_thread_mdelay(500);
 124              		.loc 1 15 0 discriminator 1
 125 0016 0022     		movs	r2, #0
 126 0018 0421     		movs	r1, #4
 127 001a 2046     		mov	r0, r4
 128 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 129              	.LVL4:
  16:user/main.c   ****         }
ARM GAS  /tmp/ccAlrAXE.s 			page 4


 130              		.loc 1 16 0 discriminator 1
 131 0020 4FF4FA70 		mov	r0, #500
 132 0024 FFF7FEFF 		bl	rt_thread_mdelay
 133              	.LVL5:
 134 0028 EBE7     		b	.L6
 135              	.L9:
 136 002a 00BF     		.align	2
 137              	.L8:
 138 002c 00080140 		.word	1073809408
 139              		.cfi_endproc
 140              	.LFE80:
 142              		.section	.text.hardware_initialization,"ax",%progbits
 143              		.align	1
 144              		.global	hardware_initialization
 145              		.syntax unified
 146              		.thumb
 147              		.thumb_func
 148              		.fpu softvfp
 150              	hardware_initialization:
 151              	.LFB81:
  22:user/main.c   ****         //HAL_Init();
 152              		.loc 1 22 0
 153              		.cfi_startproc
 154              		@ args = 0, pretend = 0, frame = 0
 155              		@ frame_needed = 0, uses_anonymous_args = 0
 156 0000 08B5     		push	{r3, lr}
 157              	.LCFI4:
 158              		.cfi_def_cfa_offset 8
 159              		.cfi_offset 3, -8
 160              		.cfi_offset 14, -4
  25:user/main.c   **** }
 161              		.loc 1 25 0
 162 0002 FFF7FEFF 		bl	MX_GPIO_Init
 163              	.LVL6:
  26:user/main.c   **** 
 164              		.loc 1 26 0
 165 0006 08BD     		pop	{r3, pc}
 166              		.cfi_endproc
 167              	.LFE81:
 169              		.text
 170              	.Letext0:
 171              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 172              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 173              		.file 4 "cmsis/core_cm3.h"
 174              		.file 5 "user/system_stm32f1xx.h"
 175              		.file 6 "config/stm32f103xe.h"
 176              		.file 7 "library/inc/stm32f1xx_hal_gpio.h"
 177              		.file 8 "library/inc/stm32f1xx_hal.h"
 178              		.file 9 "rtthread/include/rtthread.h"
ARM GAS  /tmp/ccAlrAXE.s 			page 5


DEFINED SYMBOLS
                            *ABS*:0000000000000000 main.c
     /tmp/ccAlrAXE.s:16     .text.MX_GPIO_Init:0000000000000000 $t
     /tmp/ccAlrAXE.s:22     .text.MX_GPIO_Init:0000000000000000 MX_GPIO_Init
     /tmp/ccAlrAXE.s:87     .text.MX_GPIO_Init:0000000000000048 $d
     /tmp/ccAlrAXE.s:93     .text.main:0000000000000000 $t
     /tmp/ccAlrAXE.s:100    .text.main:0000000000000000 main
     /tmp/ccAlrAXE.s:138    .text.main:000000000000002c $d
     /tmp/ccAlrAXE.s:143    .text.hardware_initialization:0000000000000000 $t
     /tmp/ccAlrAXE.s:150    .text.hardware_initialization:0000000000000000 hardware_initialization

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_GPIO_Init
rt_thread_mdelay
