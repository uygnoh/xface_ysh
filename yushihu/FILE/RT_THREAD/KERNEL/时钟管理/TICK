//______________________________________________________________________________
//      => 时钟节拍
//______________________________________________________________________________
// rtconfig.h
// 频率是（1000HZ）， 周期则是（1 / 1000 秒）， 则节拍是（1毫秒）
// RT-THREAD中， 时钟节拍的长度可以根据（RT_TICK_PER_SECOND）这个宏来调整
        #define RT_TICK_PER_SECOND      1000
        
        
        
// 系统滴答定时器中断处理函数（每1毫秒触发一次SysTick定时器中断）
// ____________________________________________________________
void SysTick_Handler(void)
{       
        rt_interrupt_enter();
        HAL_IncTick();          // STM32_HAL库
                                // ++rt_tick;
        rt_tick_increase();     // 全局变量自加，记录系统从启动到现在的时间节拍数
        rt_interrupt_leave();
}



//______________________________________________________________________________
//      => 获取系统节拍
//______________________________________________________________________________
int main(void)
{
        rt_tick_t tick = 0;
        int i;
        for (i = 0; i < 10; i++) {
                tick = rt_tick_get();
                rt_kprintf("tick: %u\n", tick);
                rt_thread_mdelay(500);
        }
        return 0;
}
